<%-include('../head')-%>

    <body style="background-color:rgb(250, 248, 244);">
        <%-include('../partials/navbar')-%>
            <!--Sidebar-->
            <%-include('../partials/sidebar')-%>
                <!--/Sidebar-->

                <!--Main layout-->
                <!-- Personal Informations -->
                <main class="mt-5" id="main">
                    <div class="container d-flex justify-content-center border rounded shadow" style="background-color: #fff;">
                        <div class="col-lg-8 col-sm-12 col-md-10 p-lg-5 py-3 px-lg-none">
                            <div class="d-flex gap-3">
                                <h5>Personal Informations</h5>
                                <button class="btn btn-link btn-sm fw-bold" style="text-decoration: none;"
                                    id="editBtn">Edit</button>
                                <button class="btn btn-link btn-sm fw-bold d-none" style="text-decoration: none;"
                                    id="cancelBtn">Cancel</button>
                            </div>
                            <div class="mt-3">
                                <form action="/user/updatePersonalInfo" method="post" id="editForm">
                                    <div class="d-flex gap-4">
                                        <input type="text" class="form-control" name="firstName"
                                            placeholder="<%=locals.userdata && locals.userdata.firstName? userdata.firstName :'First Name'%>"
                                            value="<%=locals.userdata && locals.userdata.firstName? userdata.firstName :''%>"
                                            disabled>
                                        <input type="text" class="form-control" name="lastName"
                                            placeholder="<%=locals.userdata && locals.userdata.lastName? userdata.lastName :'Last Name'%>"
                                            value="<%=locals.userdata && locals.userdata.lastName? userdata.lastName :''%>"
                                            disabled>
                                    </div>
                                    <div class="mt-5">
                                        <h6>Your Gender</h6>
                                        <div class="mt-2">
                                            <input type="radio" class="me-2 radio-input" name="gender" value="male"
                                                id="genderMale" disabled <%=locals.userdata &&
                                                locals.userdata.gender==="male" ? 'checked' : '' %> >
                                            <label for="genderMale" class="me-3 radio-label">Male</label>
                                            <input type="radio" class="me-2 radio-input" name="gender" value="female"
                                                id="genderFemale" disabled <%=locals.userdata &&
                                                locals.userdata.gender==="female" ? 'checked' : '' %>>
                                            <label for="genderFemale" class="radio-label">Female</label>
                                        </div>
                                    </div>
                                    <div class="mt-5 w-lg-50">
                                        <label for="email" class="mb-2 fs-5">Email Address</label>
                                        <input type="email" id="email" name="email" class="form-control"
                                            placeholder="<%=locals.userdata && locals.userdata.email ? userdata.email :''; %>"
                                            value="<%=locals.userdata && locals.userdata.email? userdata.email :''%>"
                                            disabled>
                                    </div>
                                    <div class="mt-5 w-lg-50">
                                        <label for="mobile" class="mb-2 fs-5">Mobile Number</label>
                                        <input type="number" id="mobile" name="mobile" class="form-control"
                                            placeholder="<%=locals.userdata && locals.userdata.mobile ? userdata.mobile: '';%>"
                                            value="<%=locals.userdata && locals.userdata.mobile? userdata.mobile :''%>"
                                            disabled>
                                    </div>

                                    <div class="mt-5">
                                        <button type="submit" class="btn btn-primary btn-lg col-lg-3 col-12 col-md-6">Save</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </main>
                <!-- Personal Informations -->
                <!--Main layout-->


                <!-- style -->
                <style>
                    main {
                        position: relative;
                        z-index: 1;
                    }

                    #editForm input {
                        cursor: not-allowed;
                    }

                    .radio-label {
                        cursor: pointer;
                    }

                   
                </style>
                <!-- /style -->

                <!-- script -->
                <script>
                    let editBtn = document.getElementById('editBtn')
                    let form = document.getElementById('editForm')
                    let inputFields = form.querySelectorAll('input')
                    let radioInputs = form.querySelectorAll('.radio-input')
                    let cancelBtn = document.getElementById('cancelBtn')

                    editBtn.addEventListener('click', (e) => {
                        editBtn.classList.add('d-none')
                        cancelBtn.classList.remove('d-none')

                        inputFields.forEach((field) => {
                            field.removeAttribute('disabled')
                            field.style.cursor = "text"
                        })
                        radioInputs.forEach((radio) => {
                            radio.style.cursor = "pointer"
                        })
                    })

                    cancelBtn.addEventListener('click', (e) => {
                        editBtn.classList.remove('d-none')
                        cancelBtn.classList.add('d-none')

                        inputFields.forEach((field) => {
                            field.disabled = true
                            field.style.cursor = "not-allowed"
                        })
                    })
                </script>
                <script src="/User/script/userSidebar.js"></script>
                <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
                    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
                    crossorigin="anonymous"></script>
    </body>